(this.webpackJsonpcarros=this.webpackJsonpcarros||[]).push([[0],{88:function(e,t,a){"use strict";a.r(t);var c=a(1),r=a.n(c),n=a(23),o=a.n(n),s=(a(80),a(74)),i=a(7),j=a(57),l=a(29),d=a(19),b=a(69),h=a(64),O=a(56),x=a(42),u=a(2),p=function(){return Object(u.jsxs)(b.a,{className:"p-3",bg:"danger",variant:"dark",children:[Object(u.jsxs)(b.a.Brand,{children:[Object(u.jsx)(x.a,{})," CarTown"]}),Object(u.jsxs)(h.a,{className:"mr-auto",children:[Object(u.jsxs)(h.a.Link,{href:"#/",children:[Object(u.jsx)(x.b,{})," In\xedcio"]}),Object(u.jsxs)(h.a.Link,{href:"#/carros",children:[Object(u.jsx)(O.a,{})," Carros"]})]})]})},m=a(71),f=function(){return Object(u.jsx)(b.a,{className:"p-3",bg:"danger",fixed:"bottom",children:Object(u.jsxs)(m.a,{className:"text-light",children:[Object(u.jsx)(x.a,{})," CarTown \xa9 - Todos os direitos reservados"]})})},v=function(){return Object(u.jsxs)(j.a,{fluid:!0,className:"p-0",children:[Object(u.jsx)(p,{}),Object(u.jsx)(l.a,{children:Object(u.jsxs)(d.a,{xs:12,lg:6,children:[Object(u.jsx)("h1",{children:"Bem Vindo!"}),Object(u.jsx)("p",{children:"Esta \xe9 a p\xe1gina de in\xedcio do aplicativo CarTown."}),Object(u.jsx)("p",{children:"Manipule a lista de carros por meio de cadastro, exclus\xe3o e edi\xe7\xe3o de ve\xedskdfculos atrav\xe9s do menu acima."})]})}),Object(u.jsx)(f,{})]})},g=a(30),C=a.n(g),k=a(8),y=a(3),N=a(63),w=a(9),E=a(68),S=a(73),F=a(38),I=a(10),T=a(65),L=a(39),A=a(45),B="https://projeto-gti-carmo.herokuapp.com",P=function(){var e={modelo:"",ano:"",cor:"",fabricante:"",preco:""},t=Object(c.useState)(e),a=Object(w.a)(t,2),r=a[0],n=a[1],o=Object(c.useState)([]),s=Object(w.a)(o,2),i=s[0],b=s[1],h=Object(c.useState)(!1),x=Object(w.a)(h,2),m=x[0],v=x[1],g=Object(c.useState)({}),P=Object(w.a)(g,2),G=P[0],M=P[1],z=Object(c.useState)(!1),_=Object(w.a)(z,2),H=_[0],J=_[1],R=Object(c.useState)(""),V=Object(w.a)(R,2),D=V[0],q=V[1],U=Object(c.useState)(!1),$=Object(w.a)(U,2),K=$[0],Q=$[1],W=r.modelo,X=r.ano,Y=r.cor,Z=r.fabricante,ee=r.preco;function te(){return ae.apply(this,arguments)}function ae(){return(ae=Object(N.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),t="".concat(B,"/carros"),e.next=4,fetch(t).then((function(e){return e.json()})).then((function(e){console.log(e),b(e)})).catch((function(e){console.error("Erro ao obter os carros: "+e.message)}));case 4:v(!1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(c.useEffect)((function(){te(),document.title="Cadastro de Carros"}),[]);var ce=function(){var e={};return W&&""!==W||(e.modelo="O campo Modelo n\xe3o pode estar v\xe1zio"),isNaN(parseInt(X))&&(e.ano="O ano do ve\xedculo deve ser um n\xfamero!"),X.length>4&&(e.ano="O ano do ve\xedculo \xe9 inv\xe1lido"),Y&&""!==Y||(e.cor="O campo Cor n\xe3o pode estar v\xe1zio"),Z&&""!==Z||(e.fabricante="O campo Fabricante n\xe3o pode estar v\xe1zio"),isNaN(parseFloat(ee))&&(e.preco="O Pre\xe7o do ve\xedculo deve ser um n\xfamero!"),e};function re(){return(re=Object(N.a)(C.a.mark((function t(a){var c,o,s;return C.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),c=ce(),!(Object.keys(c).length>0)){t.next=6;break}M(c),t.next=12;break;case 6:return J(!0),o=r.hasOwnProperty("_id")?"PUT":"POST",s="".concat(B,"/carros"),t.next=11,fetch(s,{method:o,headers:{Accept:"appliction/json","Content-Type":"application/json"},body:JSON.stringify(r)}).then((function(e){return e.json()})).then((function(t){t._id||t.message?q("Registro salvo com sucesso!"):q(""),n(e),te()})).catch((function(e){console.error("Erro ao salvar o carro: ".concat(e.message))}));case 11:J(!1);case 12:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function ne(){return(ne=Object(N.a)(C.a.mark((function e(){var t;return C.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t="".concat(B,"/carros/").concat(r._id),e.next=3,fetch(t,{method:"DELETE",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(e){return e.json()})).then((function(e){e.message?q(e.message):q(""),te()})).catch((function(e){console.error("Erro ao excluir o carro: ".concat(e.message))}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var oe=function(e){n(Object(y.a)(Object(y.a)({},r),{},Object(k.a)({},e.target.name,e.target.value))),M({})};return Object(u.jsxs)(j.a,{fluid:!0,className:"p-0",children:[Object(u.jsx)(p,{}),"\xa0",Object(u.jsxs)(l.a,{className:"p-3",children:[Object(u.jsxs)(d.a,{xs:12,lg:6,children:[Object(u.jsxs)("h4",{children:[Object(u.jsx)(O.b,{})," Cadastro dos Carros"]}),"\xa0",Object(u.jsxs)(I.a,{method:"post",children:[Object(u.jsxs)(l.a,{className:"mb-3",children:[Object(u.jsxs)(I.a.Group,{as:d.a,controlId:"modelo",children:[Object(u.jsx)(I.a.Label,{children:"Modelo do Carro"}),Object(u.jsx)(I.a.Control,{name:"modelo",placeholder:"Ex: Bras\xedlia",value:W,onChange:oe,isInvalid:!!G.modelo}),Object(u.jsx)(I.a.Control.Feedback,{type:"invalid",children:G.modelo})]}),Object(u.jsxs)(I.a.Group,{as:d.a,controlId:"ano",children:[Object(u.jsx)(I.a.Label,{children:"Ano do Carro"}),Object(u.jsx)(I.a.Control,{name:"ano",placeholder:"Ex: 2012",value:X,onChange:oe,isInvalid:!!G.ano}),Object(u.jsx)(I.a.Control.Feedback,{type:"invalid",children:G.ano})]})]}),Object(u.jsxs)(l.a,{className:"mb-3",children:[Object(u.jsxs)(I.a.Group,{as:d.a,controlId:"cor",children:[Object(u.jsx)(I.a.Label,{children:"Cor do Carro"}),Object(u.jsx)(I.a.Control,{name:"cor",placeholder:"Ex: Verde",value:Y,onChange:oe,isInvalid:!!G.cor}),Object(u.jsx)(I.a.Control.Feedback,{type:"invalid",children:G.cor})]}),Object(u.jsxs)(I.a.Group,{as:d.a,controlId:"fabricante",children:[Object(u.jsx)(I.a.Label,{children:"Fabricante do Carro"}),Object(u.jsx)(I.a.Control,{name:"fabricante",placeholder:"Ex: Volkswagen",value:Z,onChange:oe,isInvalid:!!G.fabricante}),Object(u.jsx)(I.a.Control.Feedback,{type:"invalid",children:G.fabricante})]})]}),Object(u.jsxs)(I.a.Group,{as:d.a,controlId:"preco",children:[Object(u.jsx)(I.a.Label,{children:"Preco do Carro"}),Object(u.jsx)(I.a.Control,{name:"preco",placeholder:"Ex: 5000",value:ee,onChange:oe,isInvalid:!!G.preco}),Object(u.jsx)(I.a.Control.Feedback,{type:"invalid",children:G.preco})]}),"\xa0",Object(u.jsx)(l.a,{children:"\xa0"}),Object(u.jsx)(F.a,{variant:"dark",type:"submit",title:"Salvar o registro",onClick:function(e){return function(e){return re.apply(this,arguments)}(e)},children:H?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(E.a,{animation:"border",variant:"dark",size:"sm"})," Aguarde..."]}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(A.d,{})," Salvar"]})})]})]}),Object(u.jsxs)(d.a,{xs:12,lg:6,children:[Object(u.jsxs)("h4",{children:[Object(u.jsx)(A.b,{})," Listagem dos Carros"]}),"\xa0",m&&Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(E.a,{animation:"grow",variant:"dark"}),Object(u.jsx)("p",{children:"Aguarde enquanto os carros s\xe3o recarregados..."})]}),Object(u.jsxs)(S.a,{striped:!0,bordered:!0,children:[Object(u.jsx)("thead",{children:Object(u.jsxs)("tr",{className:"bg-dark text-light",children:[Object(u.jsx)("th",{children:"Modelo"}),Object(u.jsx)("th",{children:"Ano"}),Object(u.jsx)("th",{children:"Cor"}),Object(u.jsx)("th",{children:"Fabricante"}),Object(u.jsx)("th",{children:"Pre\xe7o"}),Object(u.jsx)("th",{children:"Op\xe7\xf5es"})]})}),Object(u.jsxs)("tbody",{children:[i.map((function(e){return Object(u.jsxs)("tr",{children:[Object(u.jsx)("td",{children:e.modelo}),Object(u.jsx)("td",{children:e.ano}),Object(u.jsx)("td",{children:e.cor}),Object(u.jsx)("td",{children:e.fabricante}),Object(u.jsxs)("td",{children:["R$",new Number(e.preco).toLocaleString()]}),Object(u.jsxs)("td",{children:[Object(u.jsx)(F.a,{variant:"dark",title:"Editar o registro",onClick:function(){return n(e)},children:Object(u.jsx)(A.c,{})}),"\xa0",Object(u.jsx)(F.a,{variant:"dark",title:"Excluir o registro",onClick:function(){Q(!0),n(e)},children:Object(u.jsx)(A.a,{})})]})]},e._id)})),Object(u.jsxs)("tr",{className:"bg-dark text-light",children:[Object(u.jsx)("td",{colSpan:"6",children:"Total de Registros:"}),Object(u.jsx)("td",{children:i.length})]})]})]})]})]}),Object(u.jsxs)(T.a,{onClose:function(){return q("")},show:D.length>0,animation:!1,delay:4e3,autohide:!0,className:"bg-light",style:{position:"absolute",top:10,right:10},children:[Object(u.jsx)(T.a.Header,{closeButton:!1,children:"Aviso"}),Object(u.jsx)(T.a.Body,{children:D})]}),Object(u.jsxs)(L.a,{animation:!1,show:K,onHide:function(){return Q(!1)},children:[Object(u.jsx)(L.a.Header,{children:Object(u.jsx)(L.a.Title,{children:"Confirma\xe7\xe3o da Exclus\xe3o"})}),Object(u.jsx)(L.a.Body,{children:"Confirma a exclus\xe3o do carro selecionado?"}),Object(u.jsxs)(L.a.Footer,{children:[Object(u.jsx)(F.a,{variant:"dark",onClick:function(){return Q(!K)},children:"\u274cCancelar"}),Object(u.jsx)(F.a,{variant:"dark",onClick:function(){!function(){ne.apply(this,arguments)}(),Q(!K)},children:"\u2705Confirmar"})]})]}),Object(u.jsx)(f,{})]})};function G(){return Object(u.jsx)(s.a,{children:Object(u.jsxs)(i.c,{children:[Object(u.jsx)(i.a,{exact:!0,path:"/",element:Object(u.jsx)(v,{})}),Object(u.jsx)(i.a,{exact:!0,path:"/carros",element:Object(u.jsx)(P,{})})]})})}var M=function(){return Object(u.jsx)(G,{})};o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(M,{})}),document.getElementById("root"))}},[[88,1,2]]]);
//# sourceMappingURL=main.5767fabd.chunk.js.map